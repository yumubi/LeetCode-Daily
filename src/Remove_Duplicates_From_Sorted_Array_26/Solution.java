package src.Remove_Duplicates_From_Sorted_Array_26;

import org.junit.Test;

public class Solution {
    /**å¿«æ…¢æŒ‡é’ˆ
     * @param nums
     * @return
     */
    public int removeDuplicates(int[] nums) {
        int count = nums.length;
        if (count == 0) return 1;
        int slow = 0;
        int fast = 1;
        while (slow < fast && fast < nums.length) {
            if (nums[fast] == nums[slow]) {
                count--;
                fast++;
            }
            else {
                nums[++slow] = nums[fast++];
            }

        }
        return count;
    }

    /**
     * åŒæŒ‡é’ˆè§£æ³•
     * ä¸€ä¸ªæŒ‡é’ˆiè¿›è¡ŒéåŽ†ï¼Œå¦ä¸€ä¸ªæŒ‡é’ˆjæŒ‡å‘æœ‰æ•ˆæ•°ç»„çš„æœ€åŽä¸€ä¸ªä½ç½®
     * åªæœ‰å½“iæ‰€æŒ‡çš„å€¼å’Œjä¸ä¸€è‡´æ—¶ï¼Œæ‰å°†içš„å€¼æ·»åŠ åˆ°jçš„ä¸‹ä¸€ä¸ªä½ç½®
     * æ—¶é—´å¤æ‚åº¦O(n)
     * ç©ºé—´å¤æ‚åº¦O(1)
     * @param nums
     * @return
     */
    public int removeDuplicates2(int[] nums) {

        int n = nums.length;
        int j = 0;
        for (int i = 0; i < n; i++) {
            if(nums[i] != nums[j]) nums[++j] = nums[i];
        }
        return j + 1;
    }

    /**
     * ä¸ºäº†è®©è§£æ³•æ›´å…·æœ‰ä¸€èˆ¬æ€§ï¼Œæˆ‘ä»¬å°†åŽŸé—®é¢˜çš„ã€Œæœ€å¤šä¿ç•™ 1 ä½ã€ä¿®æ”¹ä¸ºã€Œæœ€å¤šä¿ç•™ k ä½ã€ã€‚
     *
     * å¯¹äºŽæ­¤ç±»é—®é¢˜ï¼Œæˆ‘ä»¬åº”è¯¥è¿›è¡Œå¦‚ä¸‹è€ƒè™‘ï¼š
     *
     * ç”±äºŽæ˜¯ä¿ç•™ k ä¸ªç›¸åŒæ•°å­—ï¼Œå¯¹äºŽå‰ k ä¸ªæ•°å­—ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æŽ¥ä¿ç•™ã€‚
     * å¯¹äºŽåŽé¢çš„ä»»æ„æ•°å­—ï¼Œèƒ½å¤Ÿä¿ç•™çš„å‰ææ˜¯ï¼šä¸Žå½“å‰å†™å…¥çš„ä½ç½®å‰é¢çš„ç¬¬ k ä¸ªå…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œä¸ç›¸åŒåˆ™ä¿ç•™ã€‚
     * ä¸¾ä¸ªðŸŒ°ï¼Œæˆ‘ä»¬ä»¤ k=1ï¼Œå‡è®¾æœ‰æ ·ä¾‹ï¼š[3,3,3,3,4,4,4,5,5,5]
     *
     * 1. è®¾å®šå˜é‡ idxï¼ŒæŒ‡å‘å¾…æ’å…¥ä½ç½®ã€‚idx åˆå§‹å€¼ä¸º 0ï¼Œç›®æ ‡æ•°ç»„ä¸º []
     *
     * 2. é¦–å…ˆæˆ‘ä»¬å…ˆè®©ç¬¬ 1 ä½ç›´æŽ¥ä¿ç•™ï¼ˆæ€§è´¨ 1ï¼‰ã€‚idx å˜ä¸º 1ï¼Œç›®æ ‡æ•°ç»„ä¸º [3]
     *
     * 3. ç»§ç»­å¾€åŽéåŽ†ï¼Œèƒ½å¤Ÿä¿ç•™çš„å‰ææ˜¯ä¸Ž idx çš„å‰é¢ 1 ä½å…ƒç´ ä¸åŒï¼ˆæ€§è´¨ 2ï¼‰ï¼Œ
     *
     * â€‹	å› æ­¤æˆ‘ä»¬ä¼šè·³è¿‡å‰©ä½™çš„ 3ï¼Œå°†ç¬¬ä¸€ä¸ª 4 è¿½åŠ è¿›åŽ»ã€‚idx å˜ä¸º 2ï¼Œç›®æ ‡æ•°ç»„ä¸º [3,4]
     *
     * 4. ç»§ç»­è¿™ä¸ªè¿‡ç¨‹ï¼Œè·³è¿‡å‰©ä½™çš„ 4ï¼Œå°†ç¬¬ä¸€ä¸ª 5 è¿½åŠ è¿›åŽ»ã€‚idx å˜ä¸º 3ï¼Œç›®æ ‡æ•°ç»„ä¸º [3,4,5]
     *
     * 5. å½“æ•´ä¸ªæ•°ç»„è¢«æ‰«æå®Œï¼Œæœ€ç»ˆæˆ‘ä»¬å¾—åˆ°äº†ç›®æ ‡æ•°ç»„ [3,4,5] å’Œ ç­”æ¡ˆ idx ä¸º 3ã€‚
     * @param nums
     * @return
     */
    public int removeDuplicatesPlus(int[] nums) {
//æ­¤å¤„è®¾k=1
        return process(nums, 1);
    }
    int process(int[] nums, int k) {
        int idx = 0;
        for(int x : nums) {
            if(idx < k || nums[idx - k] != x) nums[idx++] = x;
        }
        return idx;
    }


//åŸºäºŽä¸Šè¿°è§£æ³•æˆ‘ä»¬è¿˜èƒ½åšä¸€ç‚¹å°å‰ªæžï¼šåˆ©ç”¨ç›®æ ‡æ•°ç»„çš„æœ€åŽä¸€ä¸ªå…ƒç´ å¿…ç„¶ä¸ŽåŽŸæ•°ç»„çš„æœ€åŽä¸€ä¸ªå…ƒç´ ç›¸åŒè¿›è¡Œå‰ªæžï¼Œ
// ä»Žè€Œç¡®ä¿å½“æ•°ç»„æœ‰è¶…è¿‡ k ä¸ªæœ€å¤§å€¼æ—¶ï¼Œæ•°ç»„ä¸ä¼šè¢«å®Œæ•´æ‰«æã€‚
//ä½†éœ€è¦æ³¨æ„è¿™ç§ã€Œå‰ªæžã€åŒæ—¶ä¼šè®©æˆ‘ä»¬å•æ¬¡å¾ªçŽ¯çš„å¸¸æ•°å˜å¤§ï¼Œæ‰€ä»¥ä»…ä½œä¸ºç®€å•æ‹“å±•

    /**
     * æš‚æ—¶æ²¡çœ‹æ‡‚
     * @param nums
     * @return
     */
    public int removeDuplicatesUltra(int[] nums) {
    int n = nums.length;
    if (n <= 1) return n;
    return process(nums, 1, nums[n - 1]);
}
    int process(int[] nums, int k, int max) {
        int idx = 0;
        for (int x : nums) {
            if (idx < k || nums[idx - k] != x) nums[idx++] = x;
            if (idx - k >= 0 && nums[idx - k] == max) break;
        }
        return idx;
    }

@Test
public void test() {

}
}

